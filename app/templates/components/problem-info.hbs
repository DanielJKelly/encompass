<header id="probleminfoheader">
  <h2>Problem Details</h2>
  <div class="clear"></div>
</header>

<section class="problemdetails">
  {{#if isEditing}}
      <form id='probleminfoform' class='properForm'>
        <fieldset>
          <ol>
            <li>
              <label for="title">Problem Name</label>
              {{input name="title" id="title" type="text" value=problemName placeholder=problem.title}}
            </li>
            <li>
              <label for="text">Problem Statement</label>
              {{input name="text" id="text" type="text" value=problemText placeholder=problem.text}}
            </li>
            <li class="privacy-settings">
              <label>Privacy Settings
                <span class="required-star">*</span>
              </label>
              {{input type="radio" value=justMe required="true" name="privacy" click=(action "radioSelect" 'Just Me')}}
              <label class="radio-label">Just Me</label>
              {{input type="radio" value=myOrg required="true" name="privacy" click=(action "radioSelect" 'My Organization')}}
              <label class="radio-label">My Organization</label>
              {{input type="radio" value=everyone required="true" name="privacy" click=(action "radioSelect" 'Everyone')}}
              <label class="radio-label">Everyone</label>
            </li>
          </ol>
        </fieldset>
      </form>
    <button class="action_button" {{action 'updateProblem'}}>Save Problem</button>

  {{else}}

    <section id='probleminfo' class='properForm'>
      <fieldset>
        <ol>
          <li>
            <label for="title">Problem Name</label>
            {{input name="title" id="problemTitle" type="text" value=problemName disabled=true placeholder=problem.title}}
          </li>
          <li>
            <label for="text">Problem Statement</label>
            {{input name="text" id="problemText" type="text" value=problemText disabled=true placeholder=problem.text}}
          </li>

          {{#if problem.origin}}
          <li>
            <label for="origin">Problem Origin</label>
            {{input name="origin" id="problemOrigin" type="text" disabled=true placeholder=problem.origin.title}}
          </li>
          {{/if}}

          <li>
            <label for="currentlyPublic">Privacy Setting</label>
            {{input name="currentlyPublic" id="currentlyPublic" type="text" value=isPublic disabled=true placeholder=problem.privacySetting}}
          </li>
          <li>
            <label for="createDate">Creation Date</label>
            {{input name="createDate" id="createDate" type="text" value=createDate disabled=true placeholder=problem.createDate}}
          </li>
          <li>
          {{#if problem.imageData}}
            <label for="imagedata">Problem Image:</label>
            {{#if problem.isPdf}}
            <div id="pdf-view">
              <object data="{{problem.imageData}}" type="application/pdf" height="100%" width="100%">
                <embed src="{{problem.imageData}}" type="application/pdf">
              </object>
            </div>
            {{else}}
              <a {{action 'toggleImageSize'}} class="image {{if isWide " wide "}}">
                <img src="{{problem.imageData}}" alt="{{problem.title}}">
              </a>
            {{/if}}
          {{/if}}
          </li>
        </ol>
      </fieldset>
    </section>

      {{#if canEdit}}
        <button class="action_button" {{action 'deleteProblem'}}>Delete Problem</button>
        <button class="action_button" id="editProblem" {{action 'editProblem'}}>Edit Problem</button>
      {{else}}
          <button class="action_button" {{action 'addToMyProblems'}}>Add to My Problems</button>
      {{/if}}

  {{/if}}

</section>
