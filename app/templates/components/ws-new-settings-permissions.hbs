<h5>Permission Settings</h5>

<p>Select a user to configure their permissions for this workspace.</p>
{{selectize-input
store=store
inputId="collab-select"
maxItems=1
onItemAdd=(action "setCollaborator")
onItemRemove=(action "setCollaborator")
labelField="username"
valueField="id"
searchField="username"
model="user"
placeholder="Search for collaborators to add"}}

{{#if selectedCollaborator}}
  {{radio-group options=globalItems selectedValue=global}}

  {{#if saveError}}
    {{error-box error="Sorry, something went wrong. Please try again" showDismiss=true resetError=(action (mut saveError) null)}}
  {{/if}}

  <button class="save-permissions" {{action "savePermissions"}}>Save User Permissions </button>
  <button {{action (mut selectedUser) null}}>Cancel</button>
{{/if}}

<h5>Collaborators</h5>
<ol>
  {{#each permissions as |permission|}}
    <li>{{permission.user.username}}
      <i {{action "editCollab" permission}} class="far fa-edit" aria-hidden="true" title="Modify"></i>
      <i {{action "removeCollab" permission}} class="far fa-times-circle" aria-hidden="true" title="Remove"></i>
    </li>
  {{/each}}
</ol>
