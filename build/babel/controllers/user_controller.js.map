{"version":3,"sources":["../../../app/controllers/user_controller.js"],"names":["Encompass","UserController","Ember","Controller","extend","CurrentUserMixin","isEditing","lastSeenDate","last","get","moment","fromNow","property","tourDate","date","actions","editUser","set","saveUser","save","clearTour","doneTour","Date"],"mappings":";;AAAA;;;;;;AAMAA,UAAUC,cAAV,GAA2BC,MAAMC,UAAN,CAAiBC,MAAjB,CAAwBJ,UAAUK,gBAAlC,EAAoD;AAC7EC,aAAW,KADkE;;AAG7EC,gBAAc,YAAU;AACtB,QAAIC,OAAO,KAAKC,GAAL,CAAS,UAAT,CAAX;AACA,QAAGD,IAAH,EAAS;AACP,aAAOE,OAAOF,IAAP,EAAaG,OAAb,EAAP;AACD;AACD,WAAO,OAAP;AACD,GANa,CAMZC,QANY,CAMH,UANG,CAH+D;;AAW7EC,YAAU,YAAU;AAClB,QAAIC,OAAO,KAAKL,GAAL,CAAS,UAAT,CAAX;AACA,QAAGK,IAAH,EAAS;AACP,aAAOJ,OAAOI,IAAP,EAAaH,OAAb,EAAP;AACD;AACD,WAAO,IAAP;AACD,GANS,CAMRC,QANQ,CAMC,gBAND,CAXmE;;AAmB7EG,WAAS;AACPC,cAAU,oBAAU;AAClB,WAAKC,GAAL,CAAS,WAAT,EAAsB,IAAtB;AACD,KAHM;;AAKPC,cAAU,oBAAU;AAClB,WAAKD,GAAL,CAAS,WAAT,EAAsB,KAAtB;AACA,WAAKR,GAAL,CAAS,OAAT,EAAkBU,IAAlB;AACD,KARM;;AAUPC,eAAW,qBAAU;AACnB,WAAKH,GAAL,CAAS,gBAAT,EAA2B,IAA3B;AACD,KAZM;;AAcPI,cAAU,oBAAU;AAClB,WAAKJ,GAAL,CAAS,gBAAT,EAA2B,IAAIK,IAAJ,EAA3B;AACD;AAhBM;AAnBoE,CAApD,CAA3B","file":"user_controller.js","sourcesContent":["/**\n  * # User Controller\n  * @description Controller for managing a user. \n  * @authors Amir Tahvildaran <amir@mathforum.org>\n  * @since 1.0.0\n*/\nEncompass.UserController = Ember.Controller.extend(Encompass.CurrentUserMixin, {\n  isEditing: false,\n\n  lastSeenDate: function(){\n    var last = this.get('lastSeen');\n    if(last) {\n      return moment(last).fromNow();\n    }\n    return 'never';\n  }.property('lastSeen'),\n\n  tourDate: function(){\n    var date = this.get('seenTour');\n    if(date) {\n      return moment(date).fromNow();\n    }\n    return 'no';\n  }.property('model.seenTour'),\n\n  actions: {\n    editUser: function(){\n      this.set('isEditing', true);\n    },\n  \n    saveUser: function(){\n      this.set('isEditing', false);\n      this.get('model').save();\n    },\n    \n    clearTour: function(){\n      this.set('model.seenTour', null);\n    },\n    \n    doneTour: function(){\n      this.set('model.seenTour', new Date());\n    }\n  }\n});\n"]}