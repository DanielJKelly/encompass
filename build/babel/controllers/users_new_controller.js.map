{"version":3,"sources":["../../../app/controllers/users_new_controller.js"],"names":["Encompass","UsersNewController","Ember","Controller","extend","newUserUsername","newUserName","newUserAuthorized","actions","newUser","get","set","console","debug","user","store","createRecord","username","name","isAuthorized","save","checkUsername","keysPressed","errorMsg","caseSensitive","test","window","alert","toLowerCase"],"mappings":";;AAAA;;;;;;AAMAA,UAAUC,kBAAV,GAA+BC,MAAMC,UAAN,CAAiBC,MAAjB,CAAwB;AACrDC,mBAAiB,EADoC;AAErDC,eAAa,EAFwC;AAGrDC,qBAAmB,IAHkC;;AAKrDC,WAAS;AACPC,aAAS,mBAAW;AAClB,UAAIJ,kBAAkB,KAAKK,GAAL,CAAS,iBAAT,CAAtB;AACA,UAAIJ,cAAc,KAAKI,GAAL,CAAS,aAAT,CAAlB;AACA,UAAIH,oBAAoB,KAAKG,GAAL,CAAS,mBAAT,CAAxB;AACA,WAAKC,GAAL,CAAS,iBAAT,EAA4B,EAA5B;AACAC,cAAQC,KAAR,CAAc,uBAAuBR,eAArC;;AAEA,UAAG,CAACA,eAAJ,EAAqB;AACnB;AACD;;AAED,UAAIS,OAAO,KAAKC,KAAL,CAAWC,YAAX,CAAwB,MAAxB,EAAgC;AACzCC,kBAAUZ,eAD+B;AAEzCa,cAAMZ,WAFmC;AAGzCa,sBAAcZ;AAH2B,OAAhC,CAAX;;AAMAO,WAAKM,IAAL;AACD,KAnBM;;AAqBPC,mBAAe,uBAASC,WAAT,EAAsB;AACnC,UAAIC,WAAW,2CAAf;AACA,UAAIC,gBAAgB,OAApB;AACA,UAAIP,WAAW,KAAKP,GAAL,CAAS,iBAAT,CAAf;;AAEA,UAAIc,cAAcC,IAAd,CAAmBR,QAAnB,CAAJ,EAAmC;AACjCS,eAAOC,KAAP,CAAaJ,QAAb;AACA,aAAKZ,GAAL,CAAS,iBAAT,EAA4BW,YAAYM,WAAZ,EAA5B;AACD;AACF;AA9BM;AAL4C,CAAxB,CAA/B","file":"users_new_controller.js","sourcesContent":["/**\n  * # Users Controller\n  * @description Controller for creating a new user. \n  * @authors Amir Tahvildaran <amir@mathforum.org>\n  * @since 1.0.0\n*/\nEncompass.UsersNewController = Ember.Controller.extend({\n  newUserUsername: '',\n  newUserName: '',\n  newUserAuthorized: true,\n\n  actions: {\n    newUser: function() {\n      var newUserUsername = this.get('newUserUsername');\n      var newUserName = this.get('newUserName');\n      var newUserAuthorized = this.get('newUserAuthorized');\n      this.set('newUserUsername', '');\n      console.debug('creating new user ' + newUserUsername);\n\n      if(!newUserUsername) {\n        return;\n      }\n\n      var user = this.store.createRecord('user', {\n        username: newUserUsername,\n        name: newUserName,\n        isAuthorized: newUserAuthorized\n      });\n\n      user.save();\n    },\n\n    checkUsername: function(keysPressed) {\n      var errorMsg = 'Please enter usernames in lower case only';\n      var caseSensitive = /[A-Z]/;\n      var username = this.get('newUserUsername');\n\n      if( caseSensitive.test(username) ) {\n        window.alert(errorMsg);\n        this.set('newUserUsername', keysPressed.toLowerCase());\n      }\n    }\n  }\n});\n"]}