{"version":3,"sources":["../../../app/routes/workspace_submission_selection_route.js"],"names":["Encompass","WorkspaceSubmissionSelectionRoute","Ember","Route","extend","afterModel","model","transition","controllerFor","set","deactivate","doTour","console","log","user","modelFor","run","schedule","get","guiders","hideAll","observes","shouldDoTour","userSeenTour","redoTour","property","renderTemplate","render","$","focus"],"mappings":";;AAAAA,UAAUC,iCAAV,GAA8CC,MAAMC,KAAN,CAAYC,MAAZ,CAAmB;;AAE/DC,cAAY,oBAASC,KAAT,EAAgBC,UAAhB,EAA4B;AACtC,SAAKC,aAAL,CAAmB,WAAnB,EAAgCC,GAAhC,CAAoC,kBAApC,EAAwDH,KAAxD;AACD,GAJ8D;;AAM/DI,cAAY,sBAAW;AACrB,SAAKF,aAAL,CAAmB,WAAnB,EAAgCC,GAAhC,CAAoC,kBAApC,EAAwD,IAAxD;AACD,GAR8D;;AAU/DE,UAAQ,YAAW;AACjBC,YAAQC,GAAR,CAAY,YAAZ;AACA,QAAIC,OAAO,KAAKC,QAAL,CAAc,aAAd,CAAX;;AAEAb,UAAMc,GAAN,CAAUC,QAAV,CAAmB,aAAnB,EAAkC,YAAW;AAC3C,UAAG,CAACH,KAAKI,GAAL,CAAS,UAAT,CAAJ,EAA0B;AAAE;AAC1BC,gBAAQC,OAAR;AACAR,gBAAQC,GAAR,CAAY,eAAZ;AACA;AACD;AACF,KAND;AAOD,GAXO,CAWNQ,QAXM,CAWG,cAXH,CAVuD;;AAuB/DC,gBAAc,YAAW;AACvB,QAAIR,OAAO,KAAKC,QAAL,CAAc,aAAd,CAAX;AACA,QAAIQ,eAAeT,KAAKI,GAAL,CAAS,UAAT,CAAnB;AACA,QAAIM,WAAW,KAAKN,GAAL,CAAS,oBAAT,CAAf;AACA,WAAOK,gBAAgBC,QAAvB;AACD,GALa,CAKZC,QALY,CAKH,oBALG,CAvBiD;;AA8B/DC,kBAAgB,0BAAW;AACzB,SAAKC,MAAL;AACAC,MAAE,kBAAF,EAAsBC,KAAtB;AACA,QAAIf,OAAO,KAAKC,QAAL,CAAc,aAAd,CAAX;AACJ;AACA;AACA;AACG;;AArC8D,CAAnB,CAA9C","file":"workspace_submission_selection_route.js","sourcesContent":["Encompass.WorkspaceSubmissionSelectionRoute = Ember.Route.extend({\n\n  afterModel: function(model, transition) {\n    this.controllerFor('workspace').set('currentSelection', model);\n  },\n\n  deactivate: function() {\n    this.controllerFor('workspace').set('currentSelection', null);\n  },\n\n  doTour: function() {\n    console.log('doing tour');\n    var user = this.modelFor('application');\n\n    Ember.run.schedule('afterRender', function() {\n      if(!user.get('seenTour')) { //customize for this part of the tour\n        guiders.hideAll();\n        console.log('ignoring tour');\n        //guiders.show('comments');\n      }\n    });\n  }.observes('shouldDoTour'),\n\n  shouldDoTour: function() {\n    var user = this.modelFor('application');\n    var userSeenTour = user.get('seenTour');\n    var redoTour = this.get('Encompass.redoTour');\n    return userSeenTour || redoTour;\n  }.property('Encompass.redoTour'),\n\n  renderTemplate: function() {\n    this.render();\n    $('#commentTextarea').focus();\n    var user = this.modelFor('application');\n//    if (!user.get('seenTour')) {\n//      this.doTour();\n//    }\n  },\n\n});\n"]}