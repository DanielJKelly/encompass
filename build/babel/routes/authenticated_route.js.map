{"version":3,"sources":["../../../app/routes/authenticated_route.js"],"names":["Encompass","AuthenticatedRoute","Ember","Route","extend","beforeModel","_super","apply","arguments","authenticate","user","modelFor","get","transitionTo"],"mappings":";;AAAA;;;;;;AAMAA,UAAUC,kBAAV,GAA+BC,MAAMC,KAAN,CAAYC,MAAZ,CAAmB;AAChDC,eAAa,uBAAW;AACtB,SAAKC,MAAL,CAAYC,KAAZ,CAAkB,IAAlB,EAAwBC,SAAxB;AACA,SAAKC,YAAL;AACD,GAJ+C;AAKhDA,gBAAc,wBAAW;AAAE;AACzB,QAAIC,OAAO,KAAKC,QAAL,CAAc,aAAd,CAAX;AACA,QAAG,CAACD,KAAKE,GAAL,CAAS,iBAAT,CAAJ,EAAiC;AAC/B,WAAKC,YAAL,CAAkB,GAAlB;AACD,KAFD,MAEO,IAAG,CAACH,KAAKE,GAAL,CAAS,SAAT,CAAJ,EAAyB;AAC9B,WAAKC,YAAL,CAAkB,cAAlB;AACD;AACF;AAZ+C,CAAnB,CAA/B","file":"authenticated_route.js","sourcesContent":["/**\n  * # Authenticated Route\n  * @description This is a base route to require authentication\n  * @author Amir Tahvildaran <amir@mathforum.org>\n  * @since 1.0.2\n  */\nEncompass.AuthenticatedRoute = Ember.Route.extend({\n  beforeModel: function() {\n    this._super.apply(this, arguments);\n    this.authenticate();\n  },\n  authenticate: function() { //not crazy that this is duplicated here and in ApplicationRoute\n    var user = this.modelFor('application');\n    if(!user.get('isAuthenticated')) {\n      this.transitionTo('/');\n    } else if(!user.get('isAuthz')) {\n      this.transitionTo('unauthorized');\n    }\n  }\n});\n"]}