{"version":3,"sources":["../../../app/routes/workspaces__list_route.js"],"names":["Encompass","WorkspacesListRoute","Ember","Route","extend","controllerName","templateName","filter","workspace","setupController","controller","model","_super","set","Date","route","store","get","findAll","actions","reload","refresh"],"mappings":";;AAAA;;;;;;AAMAA,UAAUC,mBAAV,GAAgCC,MAAMC,KAAN,CAAYC,MAAZ,CAAmB;;AAEjDC,kBAAgB,iBAFiC;AAGjDC,gBAAgB,iBAHiC;;AAKjDC,UAAQ,gBAASC,SAAT,EAAoB;AAC1B,WAAO,IAAP,CAD0B,CACb;AACd,GAPgD;;AASjDC,mBAAiB,yBAASC,UAAT,EAAqBC,KAArB,EAA4B;AAC3C,SAAKC,MAAL,CAAYF,UAAZ,EAAwBC,KAAxB;AACA;AACAD,eAAWG,GAAX,CAAe,OAAf,EAAwB,IAAIC,IAAJ,EAAxB;AACD,GAbgD;;AAejDH,SAAO,iBAAW;AAChB,QAAII,QAAQ,IAAZ;AACA,QAAIC,QAAQ,KAAKC,GAAL,CAAS,OAAT,CAAZ;;AAEA,WAAOD,MAAME,OAAN,CAAc,WAAd,CAAP;AACA;;;;;;;AAOD,GA3BgD;;AA6BjDC,WAAS;AACPC,YAAQ,kBAAW;AACjB,WAAKC,OAAL;AACD;AAHM;;AA7BwC,CAAnB,CAAhC","file":"workspaces__list_route.js","sourcesContent":["/**\n  * # Workspaces List Route\n  * @description Reusable route to list workspaces\n  * @author Amir Tahvildaran <amir@mathforum.org>\n  * @since 1.0.1\n  */\nEncompass.WorkspacesListRoute = Ember.Route.extend({\n\n  controllerName: 'workspaces.list',\n  templateName:   'workspaces/list',\n\n  filter: function(workspace) {\n    return true; //return everything by default, extenders will override this\n  },\n\n  setupController: function(controller, model) {\n    this._super(controller, model);\n    //controller.set('since', this.store.since('workspace'));\n    controller.set('since', new Date() );\n  },\n\n  model: function() {\n    var route = this;\n    var store = this.get('store');\n\n    return store.findAll('workspace');\n    /*\n    return store.cache('workspace').then(function(model){\n      return model;\n      //return store.filter('workspace', route.filter.bind(route)); \n      //stackoverflow.com/questions/24439394/emberjs-override-route-filter-without-global/24439468#24439468\n    });\n    */\n  },\n\n  actions: {\n    reload: function() {\n      this.refresh();\n    }\n  }\n\n});\n"]}