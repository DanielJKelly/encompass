{"version":3,"sources":["../../../app/components/workspace-submission.js"],"names":["Encompass","WorkspaceSubmissionComponent","Ember","Component","extend","makingSelection","showingSelections","showSelectableView","computed","or","workspaceSelections","console","log","currentSubmission","selections","get","comp","selectionsInWorkspace","isNone","filter","selection","selectionWs","thisWs","property","canSelect","actions","addSelection","sendAction","deleteSelection","showSelections","set","hideSelections"],"mappings":";;AAAA;;;;;;AAMAA,UAAUC,4BAAV,GAAyCC,MAAMC,SAAN,CAAgBC,MAAhB,CAAuB;AAC9DC,mBAAiB,IAD6C;AAE9DC,qBAAmB,KAF2C;;AAI9DC,sBAAoBL,MAAMM,QAAN,CAAeC,EAAf,CAAkB,iBAAlB,EAAqC,mBAArC,CAJ0C;AAK9D;;AAEAC,uBAAqB,YAAW;AAC9BC,YAAQC,GAAR,CAAY,UAAZ,EAAuB,KAAKC,iBAA5B;AACA,QAAIC,aAAa,KAAKD,iBAAL,CAAuBE,GAAvB,CAA2B,YAA3B,CAAjB;AACA,QAAIC,OAAO,IAAX;AACA,QAAIC,wBAAwB,IAA5B;;AAEA,QAAI,CAACf,MAAMgB,MAAN,CAAaJ,UAAb,CAAL,EAAgC;AAC9BG,8BAAwBH,WAAWK,MAAX,CAAmB,UAAUC,SAAV,EAAqB;AAC9D,YAAIC,cAAcD,UAAUL,GAAV,CAAc,cAAd,CAAlB;AACA,YAAIO,SAASN,KAAKD,GAAL,CAAS,qBAAT,CAAb;;AAEA,eAAQM,gBAAgBC,MAAxB;AACD,OALuB,CAAxB;AAMD;;AAED,WAAOL,qBAAP;AACD,GAhBoB,CAgBnBM,QAhBmB,CAgBV,iCAhBU,CAPyC;;AAyB9DC,aAAW,IAzBmD;;AA2B9D;;;;;;;;;;AAUAC,WAAS;AACPC,kBAAc,sBAAUN,SAAV,EAAqB;AACjCT,cAAQC,GAAR,CAAY,yDAAZ;AACA,WAAKe,UAAL,CAAiB,cAAjB,EAAiCP,SAAjC;AACD,KAJM;;AAMPQ,qBAAiB,yBAAUR,SAAV,EAAqB;AACpCT,cAAQC,GAAR,CAAY,gEAAZ;AACA,WAAKe,UAAL,CAAiB,iBAAjB,EAAoCP,SAApC;AACD,KATM;;AAWPS,oBAAgB,0BAAW;AACzBlB,cAAQC,GAAR,CAAY,sBAAZ;AACA,WAAKkB,GAAL,CAAS,mBAAT,EAA8B,IAA9B;AACD,KAdM;;AAgBPC,oBAAgB,0BAAW;AACzB,WAAKD,GAAL,CAAS,mBAAT,EAA8B,KAA9B;AACD;AAlBM;AArCqD,CAAvB,CAAzC","file":"workspace-submission.js","sourcesContent":["/**\n * Passed in by template:\n * - currentSubmission\n *\n * selections come from this.currentSubmission.selections\n */\nEncompass.WorkspaceSubmissionComponent = Ember.Component.extend({\n  makingSelection: true,\n  showingSelections: false,\n\n  showSelectableView: Ember.computed.or('makingSelection', 'showingSelections'),\n  /* Next: get selections to show up */\n\n  workspaceSelections: function() {\n    console.log('curr sub',this.currentSubmission);\n    var selections = this.currentSubmission.get('selections');\n    var comp = this;\n    var selectionsInWorkspace = null;\n\n    if( !Ember.isNone(selections) ) {\n      selectionsInWorkspace = selections.filter( function( selection ){\n        var selectionWs = selection.get('workspace.id');\n        var thisWs = comp.get('currentWorkspace.id');\n\n        return (selectionWs === thisWs);\n      });\n    }\n\n    return selectionsInWorkspace;\n  }.property('currentSubmission.selections.[]'),\n\n  canSelect: true,\n\n  /* TODO: fix this:\n  canSelect: function() {\n    return Permissions.userCan(\n      this.get('this.currentUser'),\n      this.get('this.currentWorkspace'),\n      \"SELECTIONS\"\n    );\n  }.property('this.currentUser.username', 'this.currentWorkspace.owner.username', 'this.currentWorkspace.editors.[].username'),\n  */\n\n  actions: {\n    addSelection: function( selection ){\n      console.log(\"workspace-submission sending action up to controller...\");\n      this.sendAction( 'addSelection', selection );\n    },\n\n    deleteSelection: function( selection ){\n      console.log(\"workspace-submission sending DELETE action up to controller...\");\n      this.sendAction( 'deleteSelection', selection );\n    },\n\n    showSelections: function() {\n      console.log(\"Show Selections True\");\n      this.set('showingSelections', true);\n    },\n\n    hideSelections: function() {\n      this.set('showingSelections', false);\n    }\n  }\n});\n\n"]}