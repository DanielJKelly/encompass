{"version":3,"sources":["../../../app/components/draggable-selection.js"],"names":["require","Encompass","DraggableSelectionComponent","Ember","Component","extend","DragNDrop","Draggable","dragStart","event","_super","dataTransfer","originalEvent","console","log","data","JSON","stringify","selection","dataWithId","get","substring","setData","dragEnd","set","actions","deleteSelection","sendAction"],"mappings":";;AAAAA,QAAQ,0BAAR;;AAEAC,UAAUC,2BAAV,GAAwCC,MAAMC,SAAN,CAAgBC,MAAhB,CAAuBJ,UAAUK,SAAV,CAAoBC,SAA3C,EAAsD;AAC5FC,aAAW,mBAASC,KAAT,EAAgB;AACzB,SAAKC,MAAL,CAAYD,KAAZ;AACA,QAAIE,eAAeF,MAAMG,aAAN,CAAoBD,YAAvC;AACAE,YAAQC,GAAR,CAAY,OAAZ;AACA;AACA,QAAIC,OAAOC,KAAKC,SAAL,CAAe,KAAKC,SAApB,CAAX;AACA,QAAIC,aAAa,gBAAgB,KAAKD,SAAL,CAAeE,GAAf,CAAmB,IAAnB,CAAhB,GAA2C,KAA3C,GAAoDL,KAAKM,SAAL,CAAe,CAAf,CAArE;AACAV,iBAAaW,OAAb,CAAqB,kBAArB,EAAyCH,UAAzC;AACAR,iBAAaW,OAAb,CAAqB,YAArB,EAAmC,WAAnC;AACAT,YAAQC,GAAR,CAAY,OAAZ;;AAEA;;;;;;;;;;;;AAYA;AACA;AACD,GA1B2F;AA2B5FS,WAAS,iBAASd,KAAT,EAAgB;AACvB;AACA,SAAKe,GAAL,CAAS,sBAAT,EAAiC,KAAjC;AACD,GA9B2F;;AAgC5FC,WAAS;AACPC,qBAAiB,yBAAUR,SAAV,EAAqB;AACpCL,cAAQC,GAAR,CAAY,iDAAZ;AACA,WAAKa,UAAL,CAAiB,iBAAjB,EAAoCT,SAApC;AACD;AAJM;AAhCmF,CAAtD,CAAxC","file":"draggable-selection.js","sourcesContent":["require('app/components/Draggable');\n\nEncompass.DraggableSelectionComponent = Ember.Component.extend(Encompass.DragNDrop.Draggable, {\n  dragStart: function(event) {\n    this._super(event);\n    var dataTransfer = event.originalEvent.dataTransfer;\n    console.log(\"get 1\");\n    // stringify just returns the non-ember properties, so the id isn't included\n    var data = JSON.stringify(this.selection);\n    var dataWithId = '{\\\"id\\\": \\\"' + this.selection.get('id') + '\\\",' +  data.substring(1);\n    dataTransfer.setData('application/json', dataWithId );\n    dataTransfer.setData('text/plain', 'selection');\n    console.log(\"get 2\");\n    \n    /*\n    controller.get('model').get('selections').forEach(function(selection) {\n       console.log(\"get selection id 1\");\n      if (selection.get('id') === selectionId) {\n        selection = JSON.parse(JSON.stringify(selection));\n        selection.id = selectionId;\n        selection.workspace = controller.get('currentWorkspace.id'); //this might not be necessary\n        dataTransfer.setData('application/json', JSON.stringify(selection));\n        return;\n      }\n    });\n    */\n    //controller.set('makingSelection', false); ENC-452\n    //controller.transitionToRoute('workspace.submission.selection', controller.get('currentSelection')); ENC-461\n  },\n  dragEnd: function(event) {\n    // Let the controller know this view is done dragging\n    this.set('selection.isDragging', false);\n  },\n\n  actions: {\n    deleteSelection: function( selection ){\n      console.log(\"draggable-selection sending DELETE action up...\");\n      this.sendAction( 'deleteSelection', selection );\n    }\n  }\n});\n"]}