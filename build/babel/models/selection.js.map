{"version":3,"sources":["../../../app/models/selection.js"],"names":["Encompass","Selection","DS","Model","extend","Auditable","selectionId","Ember","computed","alias","text","attr","coordinates","taggings","hasMany","async","comments","submission","belongsTo","workspace","folders","get","filterBy","getEach","toArray","property","link"],"mappings":";;AAAAA,UAAUC,SAAV,GAAsBC,GAAGC,KAAH,CAASC,MAAT,CAAgBJ,UAAUK,SAA1B,EAAqC;AACzDC,eAAaC,MAAMC,QAAN,CAAeC,KAAf,CAAqB,IAArB,CAD4C;AAEzDC,QAAMR,GAAGS,IAAH,CAAQ,QAAR,CAFmD;AAGzDC,eAAaV,GAAGS,IAAH,CAAQ,QAAR,CAH4C;AAIzDE,YAAUX,GAAGY,OAAH,CAAW,SAAX,EAAsB,EAACC,OAAO,IAAR,EAAtB,CAJ+C;AAKzDC,YAAUd,GAAGY,OAAH,CAAW,SAAX,EAAsB,EAACC,OAAO,IAAR,EAAtB,CAL+C;AAMzDE,cAAYf,GAAGgB,SAAH,CAAa,YAAb,EAA2B,EAACH,OAAO,IAAR,EAA3B,CAN6C;AAOzDI,aAAWjB,GAAGgB,SAAH,CAAa,WAAb,EAA0B,EAACH,OAAO,KAAR,EAA1B,CAP8C;AAQzDK,WAAS,YAAW;AAClB,WAAO,KAAKC,GAAL,CAAS,UAAT,EAAqBC,QAArB,CAA8B,WAA9B,EAA2C,KAA3C,EAAkDC,OAAlD,CAA0D,QAA1D,EAAoEC,OAApE,EAAP;AACD,GAFQ,CAEPC,QAFO,CAEE,0BAFF,EAE8B,aAF9B,CARgD;AAWzDC,QAAM,YAAW;AACf,WAAO,kBAAkB,KAAKL,GAAL,CAAS,cAAT,CAAlB,GACL,eADK,GACa,KAAKA,GAAL,CAAS,eAAT,CADb,GAEL,cAFK,GAEY,KAAKA,GAAL,CAAS,IAAT,CAFnB;AAGA;AACA;AACD,GANK,CAMJI,QANI,CAMK,WANL,EAMkB,YANlB,EAMgC,IANhC;AAXmD,CAArC,CAAtB","file":"selection.js","sourcesContent":["Encompass.Selection = DS.Model.extend(Encompass.Auditable, {\n  selectionId: Ember.computed.alias('id'),\n  text: DS.attr('string'),\n  coordinates: DS.attr('string'),\n  taggings: DS.hasMany('tagging', {async: true}),\n  comments: DS.hasMany('comment', {async: true}),\n  submission: DS.belongsTo('submission', {async: true}),\n  workspace: DS.belongsTo('workspace', {async: false}),\n  folders: function() {\n    return this.get('taggings').filterBy('isTrashed', false).getEach('folder').toArray();\n  }.property('taggings.@each.isTrashed', 'taggings.[]'),\n  link: function() {\n    return '#/workspaces/' + this.get('workspace.id') + \n      '/submissions/' + this.get('submission.id') +\n      '/selections/' + this.get('id');\n    //https://github.com/emberjs/ember.js/pull/4718\n    //ENC-526\n  }.property('workspace', 'submission', 'id')\n});\n"]}