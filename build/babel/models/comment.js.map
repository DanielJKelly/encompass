{"version":3,"sources":["../../../app/models/comment.js"],"names":["Encompass","Comment","DS","Model","extend","Auditable","label","attr","text","useForResponse","defaultValue","selection","belongsTo","origin","inverse","async","ancestors","hasMany","parent","children","submission","workspace","relevance","type","property"],"mappings":";;AAAAA,UAAUC,OAAV,GAAoBC,GAAGC,KAAH,CAASC,MAAT,CAAgBJ,UAAUK,SAA1B,EAAqC;AACvDC,SAAOJ,GAAGK,IAAH,CAAQ,QAAR,CADgD;AAEvDC,QAAMN,GAAGK,IAAH,CAAQ,QAAR,CAFiD;AAGvDE,kBAAgBP,GAAGK,IAAH,CAAQ,SAAR,EAAmB,EAACG,cAAc,KAAf,EAAnB,CAHuC;AAIvDC,aAAWT,GAAGU,SAAH,CAAa,WAAb,CAJ4C;AAKvD;AACAC,UAAQX,GAAGU,SAAH,CAAa,SAAb,EAAwB,EAACE,SAAS,WAAV,EAAuBC,OAAO,IAA9B,EAAxB,CAN+C;AAOvDC,aAAWd,GAAGe,OAAH,CAAW,SAAX,EAAsB,EAACH,SAAS,QAAV,EAAoBC,OAAO,IAA3B,EAAtB,CAP4C;AAQvDG,UAAQhB,GAAGU,SAAH,CAAa,SAAb,EAAwB,EAACE,SAAS,UAAV,EAAsBC,OAAO,IAA7B,EAAxB,CAR+C;AASvDI,YAAUjB,GAAGe,OAAH,CAAW,SAAX,EAAsB,EAACH,SAAS,QAAV,EAAoBC,OAAO,IAA3B,EAAtB,CAT6C;AAUvDK,cAAYlB,GAAGU,SAAH,CAAa,YAAb,EAA2B,EAACG,OAAO,IAAR,EAA3B,CAV2C;AAWvDM,aAAWnB,GAAGU,SAAH,CAAa,WAAb,CAX4C;AAYvDU,aAAW,CAZ4C,EAYzC;AACdC,QAAM,YAAW;AACf,WAAO,WAAP;AACD,GAFK,CAEJC,QAFI,CAEK,WAFL,EAEkB,YAFlB,EAEgC,WAFhC;AAbiD,CAArC,CAApB","file":"comment.js","sourcesContent":["Encompass.Comment = DS.Model.extend(Encompass.Auditable, {\n  label: DS.attr('string'),\n  text: DS.attr('string'),\n  useForResponse: DS.attr('boolean', {defaultValue: false}),\n  selection: DS.belongsTo('selection'),\n  //the ultimate origin of this comment\n  origin: DS.belongsTo('comment', {inverse: 'ancestors', async: true}),\n  ancestors: DS.hasMany('comment', {inverse: 'origin', async: true}),\n  parent: DS.belongsTo('comment', {inverse: 'children', async: true}),\n  children: DS.hasMany('comment', {inverse: 'parent', async: true}),\n  submission: DS.belongsTo('submission', {async: true}),\n  workspace: DS.belongsTo('workspace'),\n  relevance: 0, // Used for sorting (gets set by controller)\n  type: function() {\n    return 'selection';\n  }.property('selection', 'submission', 'workspace'),\n});\n"]}